[Unit]
Description=UPS Battery Monitor (Geekworm X1200)
After=multi-user.target

[Service]
Type=simple
ExecStart=/home/reekroo/peripheral_scripts/.venv_peripherals/bin/ups-service
WorkingDirectory=/home/reekroo/peripheral_scripts

User=root
Group=root

Environment="PYTHONPATH=/home/reekroo/peripheral_scripts"
Environment="PERIPHERALS_ROOT=/home/reekroo/peripheral_scripts"
Environment="PERIPHERALS_RUN_ROOT=/run/peripherals"

ExecStartPre=/bin/mkdir -p /home/reekroo/peripheral_scripts/logs
ExecStartPre=/bin/mkdir -p /run/peripherals/ups

Restart=always
RestartSec=3

[Install]
WantedBy=multi-user.target